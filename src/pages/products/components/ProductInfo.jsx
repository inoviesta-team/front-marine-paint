import { useState } from 'react';

export default function ProductInfo({ product }) {
  const [quantity, setQuantity] = useState(1);
  
  const decreaseQuantity = () => {
    if (quantity > 1) {
      setQuantity(quantity - 1);
    }
  };
  
  const increaseQuantity = () => {
    setQuantity(quantity + 1);
  };
  
  const formatPrice = (price) => {
    return new Intl.NumberFormat('id-ID').format(price);
  };
  
  return (
    <div>
      <h1 className="text-3xl font-semibold text-gray-800 mb-2">{product.name}</h1>
      
      <div className="flex items-center mb-4">
        <div className="flex items-center text-yellow-400">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5">
            <path fillRule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clipRule="evenodd" />
          </svg>
          <span className="ml-1 text-sm font-semibold text-gray-800">
            {product.rating} ({product.ratingCount} rating)
          </span>
        </div>
      </div>
      
      <div className="mb-6">
        <div className="flex items-center">
          <span className="text-2xl font-bold text-gray-800">
            Rp{formatPrice(product.price)}
          </span>
          {product.discount && (
            <>
              <span className="ml-2 text-sm text-gray-500 line-through">
                Rp{formatPrice(product.originalPrice)}
              </span>
              <span className="ml-2 text-sm text-red-600 font-semibold">
                Save {product.discount}%
              </span>
            </>
          )}
        </div>
      </div>
      
      <div className="mb-6">
        <h2 className="text-lg font-semibold text-gray-800 mb-2">Description</h2>
        <p className="text-gray-600">{product.description}</p>
      </div>
      
      <div className="flex items-center mb-6">
        <div className="flex border border-gray-300 rounded-md">
          <button 
            onClick={decreaseQuantity}
            className="px-3 py-1 bg-gray-100 hover:bg-gray-200"
          >
            -
          </button>
          <span className="px-4 py-1 border-x border-gray-300 flex items-center justify-center">
            {quantity}
          </span>
          <button 
            onClick={increaseQuantity}
            className="px-3 py-1 bg-gray-100 hover:bg-gray-200"
          >
            +
          </button>
        </div>
      </div>
      
      <div className="flex space-x-3">
        <button 
          type="button" 
          className="px-6 py-2 bg-blue-800 hover:bg-blue-900 text-white rounded-md"
        >
          Add to Cart
        </button>
        
        <a 
          href={`https://wa.me/6281234567890?text=Halo,%20saya%20ingin%20membeli%20${product.name}`}
          target="_blank"
          rel="noopener noreferrer"
          className="px-6 py-2 border border-blue-800 text-blue-800 hover:bg-gray-100 rounded-md flex items-center"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5 mr-2">
            <path d="M12.001 2C6.47813 2 2.00098 6.47715 2.00098 12C2.00098 13.5723 2.37871 15.0474 3.04812 16.3469L2.01465 22L7.79665 21.0101C9.04376 21.6177 10.4876 22 12.0003 22C17.5232 22 22.0003 17.5229 22.0003 12C22.0003 6.47715 17.5232 2 12.001 2Z" fill="currentColor" opacity="0.1"></path>
            <path d="M16.8751 14.4256C16.6404 15.0875 15.5938 15.6324 14.8855 15.7667C14.3672 15.8641 13.6859 15.9406 11.2266 14.9523C8.09141 13.7137 6.07528 10.5242 5.93653 10.3329C5.80591 10.1416 4.80005 8.82422 4.80005 7.46289C4.80005 6.10156 5.48442 5.45117 5.77343 5.15039C6.01871 4.90234 6.42187 4.78516 6.80591 4.78516C6.93067 4.78516 7.04297 4.79102 7.14458 4.7957C7.43359 4.80742 7.57832 4.82209 7.7644 5.21094C7.99532 5.69531 8.48436 7.05664 8.54882 7.18945C8.61524 7.32227 8.68165 7.5 8.58594 7.67188C8.49614 7.84961 8.41816 7.93359 8.28755 8.08789C8.15694 8.24219 8.0322 8.36328 7.90159 8.52344C7.7829 8.66211 7.64942 8.8125 7.79883 9.07227C7.94825 9.32617 8.4373 10.1172 9.14259 10.7461C10.0518 11.5469 10.7961 11.8359 11.0792 11.9551C11.2989 12.043 11.5547 12.0254 11.71 11.8477C11.9072 11.6289 12.1464 11.2695 12.3915 10.916C12.5653 10.6562 12.7802 10.6211 13.0049 10.709C13.2354 10.791 14.5888 11.459 14.8426 11.584C15.0964 11.709 15.2644 11.7695 15.3308 11.8711C15.3992 11.9727 15.3992 12.5637 15.1152 13.2773C14.8312 13.9907 14.11 14.627 13.5918 14.667C13.067 14.707 12.5868 14.875 10.5004 14.0449C8.00786 13.0449 6.44925 10.5 6.39649 10.416C6.34372 10.334 5.34372 9.00391 5.34372 7.63086C5.34372 6.2582 6.09376 5.55273 6.45701 5.16992C6.8203 4.7875 7.26559 4.67188 7.54297 4.67188C7.82035 4.67188 8.15692 4.67188 8.44595 4.68359C8.75005 4.69727 9.15321 4.56445 9.48978 5.10547C9.85301 5.69727 10.4795 7.05859 10.5439 7.1918C10.6084 7.32227 10.6747 7.5 10.579 7.67188C10.4892 7.84961 10.4111 7.93359 10.2805 8.08789C10.1498 8.24219 10.0251 8.36328 9.89451 8.52344C9.77582 8.66211 9.64235 8.8125 9.79177 9.07227C9.94119 9.32617 10.4304 10.1172 11.1356 10.7461C12.0449 11.5469 12.7892 11.8359 13.0724 11.9551C13.292 12.043 13.5479 12.0254 13.7033 11.8477C13.9004 11.6289 14.1396 11.2695 14.3846 10.916C14.5586 10.6562 14.7734 10.6211 14.9981 10.709C15.2285 10.791 16.582 11.4609 16.8359 11.5859C17.0897 11.7109 17.2578 11.7715 17.3242 11.873C17.3905 11.9746 17.3905 12.5656 17.1068 13.2793C16.8228 13.9926 16.1015 14.6289 15.5833 14.6689C15.0587 14.7089 14.5784 14.877 12.4921 14.0469C9.99964 13.0469 8.44106 10.502 8.38829 10.418C8.33552 10.334 7.33552 9.00391 7.33552 7.63086C7.33552 6.2582 8.08556 5.55273 8.44876 5.16992C8.81201 4.7875 9.25733 4.67188 9.53474 4.67188C9.81212 4.67188 10.1487 4.67188 10.4377 4.68359C10.7418 4.69727 11.1449 4.56445 11.4814 5.10547C11.8446 5.69727 12.4712 7.05859 12.5356 7.1918C12.6001 7.32227 12.6664 7.5 12.5708 7.67188C12.481 7.84961 12.4028 7.93359 12.2722 8.08789C12.1416 8.24219 12.0168 8.36328 11.8862 8.52344C11.7675 8.66211 11.6341 8.8125 11.7835 9.07227C11.9329 9.32617 12.4221 10.1172 13.1274 10.7461C14.0366 11.5469 14.7809 11.8359 15.0641 11.9551C15.2838 12.043 15.5396 12.0254 15.695 11.8477C15.8921 11.6289 16.1313 11.2695 16.3764 10.916C16.5503 10.6562 16.7651 10.6211 16.9899 10.709C17.2203 10.791 18.5737 11.459 18.8276 11.584C19.0814 11.709 19.2495 11.7695 19.3158 11.8711C19.3822 11.9727 19.3822 12.5637 19.0982 13.2773C18.8141 13.9907 18.0927 14.627 17.5747 14.667C17.0499 14.707 16.5698 14.875 14.4834 14.0449C11.9907 13.0449 10.4321 10.5 10.3793 10.416C10.3266 10.334 9.32655 9.00391 9.32655 7.63086C9.32655 6.2582 10.0766 5.55273 10.4398 5.16992C10.8031 4.7875 11.2484 4.67188 11.5258 4.67188C11.8031 4.67188 12.1397 4.67188 12.4287 4.68359C12.7328 4.69727 13.1359 4.56445 13.4724 5.10547C13.8357 5.69727 14.4623 7.05859 14.5267 7.1918C14.5912 7.32227 14.6575 7.5 14.5618 7.67188C14.472 7.84961 14.3939 7.93359 14.2633 8.08789C14.1326 8.24219 14.0079 8.36328 13.8773 8.52344C13.7586 8.66211 13.6251 8.8125 13.7745 9.07227C13.9239 9.32617 14.4131 10.1172 15.1184 10.7461C16.0277 11.5469 16.772 11.8359 17.0552 11.9551C17.2748 12.043 17.5307 12.0254 17.686 11.8477C17.8832 11.6289 18.1223 11.2695 18.3675 10.916C18.5413 10.6562 18.7562 10.6211 18.9809 10.709C19.2113 10.791 20.5647 11.459 20.8186 11.584C21.0724 11.709 21.2405 11.7695 21.3069 11.8711C21.3733 11.9727 21.3733 12.5637 21.0892 13.2773C20.8052 13.9907 20.0837 14.627 19.5658 14.667C19.041 14.707 18.5608 14.875 16.4743 14.0449C14.082 13.0801 12.5575 10.6748 12.4577 10.4846L16.8751 14.4256Z" fill="currentColor"></path>
          </svg>
          Konsultasi via Whatsapp
        </a>
      </div>
      
      <div>
        <p className='mt-3.5 mb-2 text-neutral-500 font-semibold'>Tersedia juga pembelian via</p>
      <div className="flex space-x-2">
        <div className="flex items-center">
          <img src="https://images.seeklogo.com/logo-png/37/1/shopee-logo-png_seeklogo-378738.png" alt="Shopee" className="h-14" />
        </div>
        <div className="flex items-center">
          <img src="https://images.seeklogo.com/logo-png/37/1/shopee-logo-png_seeklogo-378738.png" alt="Tokopedia" className="h-14" />
        </div>
      </div>
      </div>
    </div>
  );
}